"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useApollo = exports.addApolloState = exports.APOLLO_STATE_PROP_NAME = void 0;
const react_1 = require("react");
const api_1 = require("../../api");
exports.APOLLO_STATE_PROP_NAME = '__APOLLO_STATE__';
function addApolloState(client, pageProps) {
    if (pageProps.props) {
        pageProps.props[exports.APOLLO_STATE_PROP_NAME] = client.cache.extract();
    }
    return pageProps;
}
exports.addApolloState = addApolloState;
function useApollo(pageProps, context) {
    const state = pageProps === null || pageProps === void 0 ? void 0 : pageProps[exports.APOLLO_STATE_PROP_NAME];
    return react_1.useMemo(() => api_1.getApolloClient(context, state), [context, state]);
}
exports.useApollo = useApollo;
